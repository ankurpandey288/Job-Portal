$("document").ready((function(){"use strict";var t=$("#timeRange"),a=moment(),e=a.clone().startOf("month"),o=a.clone().endOf("month"),n=$("#jobStatus").val(),s=$("#gender").val();$("#jobStatus, #gender").select2({width:"100%"}),$("#jobStatus").on("change",(function(t){t.preventDefault(),n=$("#jobStatus").val();var a=$("#gender").val();loadTotalJobsApplication(moment(e).format("YYYY-MM-D  H:mm:ss"),moment(o).format("YYYY-MM-D  H:mm:ss"),n,a)})),$("#gender").on("change",(function(t){t.preventDefault(),s=$("#gender").val(),n=$("#jobStatus").val(),loadTotalJobsApplication(moment(e).format("YYYY-MM-D  H:mm:ss"),moment(o).format("YYYY-MM-D  H:mm:ss"),n,s)})),t.on("apply.daterangepicker",(function(t,a){e=a.startDate.format("YYYY-MM-D  H:mm:ss"),o=a.endDate.format("YYYY-MM-D  H:mm:ss"),loadTotalJobsApplication(e,o,n,s)})),window.cb=function(a,e){t.find("span").html(a.format("MMM D, YYYY")+" - "+e.format("MMM D, YYYY"))},cb(e,o);var r=moment().startOf("month").subtract(1,"days"),m=moment().startOf("month"),d=moment().endOf("month");t.daterangepicker({startDate:e,endDate:o,opens:"left",showDropdowns:!0,autoUpdateInput:!1,ranges:{Today:[moment(),moment()],"This Week":[moment().startOf("week"),moment().endOf("week")],"Last Week":[moment().startOf("week").subtract(7,"days"),moment().startOf("week").subtract(1,"days")],"This Month":[m,d],"Last Month":[r.clone().startOf("month"),r.clone().endOf("month")]}},cb),window.loadTotalJobsApplication=function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({type:"GET",url:jobsApplicationUrl,dataType:"json",data:{start_date:t,end_date:a,job_status:e,gender:o},cache:!1}).done(prepareJobsReport)},window.prepareJobsReport=function(t){$("#employerDashboardChart").html("");var a=t.data;if(0===a.totalJobApplication)return $("#jobContainer").html(""),$("#jobContainer").append('<div align="center" class="pt50 h150">No Records Found</div>'),!0;$("#jobContainer").html(""),$("#jobContainer").append('<canvas id="employerDashboardChart"></canvas>');var e={labels:a.dates.dateArr,datasets:[{label:"Total Job Applications",backgroundColor:"#6777ef",data:a.jobApplicationCounts,borderWidth:1}]},o=document.getElementById("employerDashboardChart").getContext("2d");o.canvas.style.height="400px",o.canvas.style.width="100%",new Chart(o,{type:"bar",data:e,options:{legend:{display:!1},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,stepSize:1}}]}}})},loadTotalJobsApplication(e.format("YYYY-MM-D  H:mm:ss"),o.format("YYYY-MM-D  H:mm:ss"),n,s)})),$(document).ready((function(){var t=$(".range_inputs > button.applyBtn");$(document).on("click",".ranges li",(function(){"Custom Range"===$(this).data("range-key")?t.css("display","initial"):t.css("display","none")})),t.css("display","none")}));