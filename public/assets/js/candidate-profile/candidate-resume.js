(()=>{"use strict";$(document).ready((function(){$(document).on("click",".uploadResumeModal",(function(){$("#uploadModal").appendTo("body").modal("show")})),$(document).on("submit","#addNewForm",(function(e){if(""===$("#uploadResumeTitle").val().trim().replace(/ \r\n\t/g,""))return displayErrorMessage("The title field is not contain only white space"),!1;e.preventDefault(),processingBtn("#addNewForm","#btnSave","loading"),$.ajax({url:resumeUploadUrl,type:"post",data:new FormData(this),dataType:"JSON",contentType:!1,cache:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#uploadModal").modal("hide"),setTimeout((function(){processingBtn("#addNewForm","#btnSave","reset")}),1e3),location.reload())},error:function(e){displayErrorMessage(e.responseJSON.message),setTimeout((function(){processingBtn("#addNewForm","#btnSave","reset")}),1e3)},complete:function(){setTimeout((function(){processingBtn("#addNewForm","#btnSave")}),1e3)}})})),$(document).on("change","#customFile",(function(){var e=isValidDocument($(this),"#validationErrorsBox");isEmpty(e)||0==e||$("#validationErrorsBox").html("").hide()})),window.isValidDocument=function(e,o){var t=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(t,["jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(o).removeClass("d-none"),$(o).html("The document must be a file of type: jpeg, jpg, pdf, doc, docx.").show(),$(o).delay(5e3).slideUp(300),!1):($(o).hide(),t)},$(".custom-file-input").on("change",(function(){var e=$(this).val().split("\\").pop();$(this).siblings(".custom-file-label").addClass("selected").html(e)})),$(document).on("click",".delete-resume",(function(e){var o=$(e.currentTarget).attr("data-id");swal({title:Lang.get("messages.common.delete")+" !",text:Lang.get("messages.common.are_you_sure_want_to_delete")+'"'+Lang.get("messages.apply_job.resume")+'" ?',type:"warning",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonColor:"#6777ef",cancelButtonColor:"#d33",cancelButtonText:Lang.get("messages.common.no"),confirmButtonText:Lang.get("messages.common.yes")},(function(){$.ajax({url:resumeUploadUrl+"/"+o,type:"DELETE",success:function(e){e.success&&setTimeout(location.reload(),1e3),swal({title:Lang.get("messages.common.deleted")+" !",text:Lang.get("messages.apply_job.resume")+Lang.get("messages.common.has_been_deleted"),type:"success",confirmButtonColor:"#6777ef",timer:2e3})},error:function(e){swal({title:"",text:e.responseJSON.message,type:"error",timer:5e3})}})}))}))})),$("#uploadModal").on("hidden.bs.modal",(function(){$("#customFile").siblings(".custom-file-label").addClass("selected").html("Choose file"),resetModalForm("#addNewForm","#validationErrorsBox")}))})();