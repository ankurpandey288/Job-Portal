$(document).ready((function(){"use strict";new AutoNumeric("#toSalary",{maximumValue:2e5,currencySymbol:"",digitGroupSeparator:",",decimalPlaces:1,currencySymbolPlacement:AutoNumeric.options.currencySymbolPlacement.suffix}),new AutoNumeric("#fromSalary",{maximumValue:9e4,currencySymbol:"",digitGroupSeparator:",",decimalPlaces:1,currencySymbolPlacement:AutoNumeric.options.currencySymbolPlacement.suffix}),$("#toSalary").on("keyup",(function(){var e=parseInt(Math.trunc(removeCommas($("#fromSalary").val())));parseInt(Math.trunc(removeCommas($("#toSalary").val())))<e?($("#toSalary").focus(),$("#salaryToErrorMsg").text(Lang.get("messages.job.please_enter_salary_range_to_greater_than_salary_range_from")),$(".actions [href='#next']").css({opacity:"0.7","pointer-events":"none"}),$("#saveJob").attr("disabled",!0)):($("#salaryToErrorMsg").text(""),$(".actions [href='#next']").css({opacity:"1","pointer-events":"inherit"}),$("#saveJob").attr("disabled",!1))})),$("#toSalary").on("wheel",(function(e){$(this).trigger("keyup")})),$("#fromSalary").on("keyup",(function(){var e=parseInt(Math.trunc(removeCommas($("#fromSalary").val())));parseInt(Math.trunc(removeCommas($("#toSalary").val())))<e?($("#fromSalary").focus(),$("#salaryToErrorMsg").text(Lang.get("messages.job.please_enter_salary_range_to_greater_than_salary_range_from")),$(".actions [href='#next']").css({opacity:"0.7","pointer-events":"none"}),$("#saveJob").attr("disabled",!0)):($("#salaryToErrorMsg").text(""),$(".actions [href='#next']").css({opacity:"1","pointer-events":"inherit"}),$("#saveJob").attr("disabled",!1))})),$("#fromSalary").on("wheel",(function(e){$(this).trigger("keyup")})),$("#jobTypeId,#jobCategoryId,#careerLevelsId,#jobShiftId,#countryId,#stateId,#cityId,#salaryPeriodsId,#requiredDegreeLevelId,#functionalAreaId").select2({width:employerPanel?"100%":"calc(100% - 44px)"}),$("#preferenceId,#currencyId,#countryID,#stateID").select2({width:"100%"}),$("#SkillId").select2({width:employerPanel?"100%":"calc(100% - 44px)",placeholder:"Select Job Skill"}),$("#tagId").select2({width:employerPanel?"100%":"calc(100% - 44px)",placeholder:"Select Job Tag"}),!$("#companyId").hasClass(".select2-hidden-accessible")&&$("#companyId").is("select")&&$("#companyId").select2({width:"100%",placeholder:"Select Company"});var e=new Date;e.setDate(e.getDate()+1),$(".expiryDatepicker").datetimepicker(DatetimepickerDefaults({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,minDate:new Date})),$("#createJobForm, #editJobForm").on("submit",(function(e){return $("#saveJob,#draftJob").attr("disabled",!0),checkSummerNoteEmpty("#details","Job Description field is required.",1)?""!==$("#salaryToErrorMsg").text()?($("#toSalary").focus(),$("#saveJob,#draftJob").attr("disabled",!1),!1):void 0:(e.preventDefault(),$("#saveJob,#draftJob").attr("disabled",!1),!1)})),$("#details").summernote({minHeight:200,height:200,placeholder:"Enter Job Details...",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]}),$("#jobTypeDescription, #jobCategoryDescription, #skillDescription, #salaryPeriodDescription, #jobShiftDescription, #jobTagDescription").summernote({minHeight:200,height:200,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]}),$("#editDetails").summernote({minHeight:200,height:200,placeholder:"Enter Job Details...",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]}),$("#countryId").on("change",(function(){$.ajax({url:jobStateUrl,type:"get",dataType:"json",data:{postal:$(this).val()},success:function(e){$("#stateId").empty(),$("#stateId").append($('<option value=""></option>').text("Select State")),$.each(e.data,(function(e,a){$("#stateId").append($("<option></option>").attr("value",e).text(a))}))}})})),$("#stateId").on("change",(function(){$.ajax({url:jobCityUrl,type:"get",dataType:"json",data:{state:$(this).val(),country:$("#countryId").val()},success:function(e){$("#cityId").empty(),$.each(e.data,(function(e,a){$("#cityId").append($("<option></option>").attr("value",e).text(a))}))}})})),window.autoNumeric=function(e,a){$(e)[0].reset(),$("select.select2Selector").each((function(e,a){var o="#"+$(this).attr("id");$(o).val(""),$(o).trigger("change")})),$(a).hide()}})),$(document).on("click",".addJobTypeModal",(function(){$("#addJobTypeModal").appendTo("body").modal("show")})),$(document).on("submit","#addJobTypeForm",(function(e){if(e.preventDefault(),!checkSummerNoteEmpty("#jobTypeDescription","Description field is required.",1))return!0;processingBtn("#addJobTypeForm","#jobTypeBtnSave","loading"),$.ajax({url:jobTypeSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addJobTypeModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#jobTypeId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addJobTypeForm","#jobTypeBtnSave")}})})),$("#addJobTypeModal").on("hidden.bs.modal",(function(){resetModalForm("#addJobTypeForm","#jobTypeValidationErrorsBox"),$("#jobTypeDescription").summernote("code","")})),$(document).on("click",".addJobCategoryModal",(function(){$("#addJobCategoryModal").appendTo("body").modal("show")})),$(document).on("submit","#addJobCategoryForm",(function(e){if(e.preventDefault(),processingBtn("#addJobCategoryForm","#jobCategoryBtnSave","loading"),!checkSummerNoteEmpty("#jobCategoryDescription","Description field is required."))return processingBtn("#addJobCategoryForm","#jobCategoryBtnSave"),!0;$.ajax({url:jobCategorySaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addJobCategoryModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#jobCategoryId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addJobCategoryForm","#jobCategoryBtnSave")}})})),$("#addJobCategoryModal").on("hidden.bs.modal",(function(){resetModalForm("#addJobCategoryForm","#jobCategoryValidationErrorsBox"),$("#jobCategoryDescription").summernote("code","")})),$(document).on("click",".addSkillModal",(function(){$("#addSkillModal").appendTo("body").modal("show")})),$(document).on("submit","#addSkillForm",(function(e){if(e.preventDefault(),!checkSummerNoteEmpty("#skillDescription","Description field is required."))return!0;processingBtn("#addSkillForm","#skillBtnSave","loading"),$.ajax({url:skillSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addSkillModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#SkillId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addSkillForm","#skillBtnSave")}})})),$("#addSkillModal").on("hidden.bs.modal",(function(){resetModalForm("#addSkillForm","#skillValidationErrorsBox"),$("#skillDescription").summernote("code","")})),$(document).on("click",".addSalaryPeriodModal",(function(){$("#addSalaryPeriodModal").appendTo("body").modal("show")})),$(document).on("submit","#addSalaryPeriodForm",(function(e){if(e.preventDefault(),!checkSummerNoteEmpty("#salaryPeriodDescription","Description field is required.",1))return!0;processingBtn("#addSalaryPeriodForm","#salaryPeriodBtnSave","loading"),$.ajax({url:salaryPeriodSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addSalaryPeriodModal").modal("hide");var a={id:e.data.id,text:e.data.period},o=new Option(a.text,a.id,!1,!0);$("#salaryPeriodsId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addSalaryPeriodForm","#salaryPeriodBtnSave")}})})),$("#addSalaryPeriodModal").on("hidden.bs.modal",(function(){resetModalForm("#addSalaryPeriodForm","#salaryPeriodValidationErrorsBox"),$("#salaryPeriodDescription").summernote("code","")})),$(document).on("click",".addCountryModal",(function(){$("#addCountryModal").appendTo("body").modal("show")})),$(document).on("submit","#addCountryForm",(function(e){e.preventDefault(),processingBtn("#addCountryForm","#countryBtnSave","loading"),$.ajax({url:countrySaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addCountryModal").modal("hide"),console.log(e.data);var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#countryId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addCountryForm","#countryBtnSave")}})})),$("#addCountryModal").on("hidden.bs.modal",(function(){resetModalForm("#addCountryForm","#countryValidationErrorsBox")})),$(document).on("click",".addStateModal",(function(){$("#addStateModal").appendTo("body").modal("show")})),$(document).on("submit","#addStateForm",(function(e){e.preventDefault(),processingBtn("#addStateForm","#stateBtnSave","loading"),$.ajax({url:stateSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addStateModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#stateId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addStateForm","#stateBtnSave")}})})),$("#addStateModal").on("hidden.bs.modal",(function(){$("#countryID").val("").trigger("change"),resetModalForm("#addStateForm","#StateValidationErrorsBox")})),$(document).on("click",".addCityModal",(function(){$("#addCityModal").appendTo("body").modal("show")})),$(document).on("submit","#addCityForm",(function(e){e.preventDefault(),processingBtn("#addCityForm","#cityBtnSave","loading"),$.ajax({url:citySaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addCityModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#cityId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addCityForm","#cityBtnSave")}})})),$("#addCityModal").on("hidden.bs.modal",(function(){$("#stateID").val("").trigger("change"),resetModalForm("#addCityForm","#cityValidationErrorsBox")})),$(document).on("click",".addCareerLevelModal",(function(){$("#addCareerModal").appendTo("body").modal("show")})),$(document).on("submit","#addCareerForm",(function(e){e.preventDefault(),processingBtn("#addCareerForm","#careerBtnSave","loading"),$.ajax({url:careerLevelSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addCareerModal").modal("hide");var a={id:e.data.id,text:e.data.level_name},o=new Option(a.text,a.id,!1,!0);$("#careerLevelsId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addCareerForm","#careerBtnSave")}})})),$("#addCareerModal").on("hidden.bs.modal",(function(){resetModalForm("#addCareerForm","#careerValidationErrorsBox")})),$(document).on("click",".addJobShiftModal",(function(){$("#addJobShiftModal").appendTo("body").modal("show")})),$(document).on("submit","#addJobShiftForm",(function(e){if(e.preventDefault(),!checkSummerNoteEmpty("#jobShiftDescription","Description field is required.",1))return processingBtn("#addJobShiftForm","#jobShiftBtnSave"),!0;processingBtn("#addJobShiftForm","#jobShiftBtnSave","loading"),$.ajax({url:jobShiftSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addJobShiftModal").modal("hide");var a={id:e.data.id,text:e.data.shift},o=new Option(a.text,a.id,!1,!0);$("#jobShiftId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addJobShiftForm","#jobShiftBtnSave")}})})),$("#addJobShiftModal").on("hidden.bs.modal",(function(){resetModalForm("#addJobShiftForm","#jobShiftValidationErrorsBox"),$("#jobShiftDescription").summernote("code","")})),$(document).on("click",".addJobTagModal",(function(){$("#addJobTagModal").appendTo("body").modal("show")})),$(document).on("submit","#addJobTagForm",(function(e){if(e.preventDefault(),processingBtn("#addJobTagForm","#jobTagBtnSave","loading"),!checkSummerNoteEmpty("#jobTagDescription","Description field is required."))return processingBtn("#addJobTagForm","#jobTagBtnSave"),!0;$.ajax({url:jobTagSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addJobTagModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#tagId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addJobTagForm","#jobTagBtnSave")}})})),$("#addJobTagModal").on("hidden.bs.modal",(function(){resetModalForm("#addJobTagForm","#jobTagValidationErrorsBox"),$("#jobTagDescription").summernote("code","")})),$(document).on("click",".addRequiredDegreeLevelTypeModal",(function(){$("#addDegreeLevelModal").appendTo("body").modal("show")})),$(document).on("submit","#addDegreeLevelForm",(function(e){e.preventDefault(),processingBtn("#addDegreeLevelForm","#degreeLevelBtnSave","loading"),$.ajax({url:requiredDegreeLevelSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addDegreeLevelModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#requiredDegreeLevelId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addDegreeLevelForm","#degreeLevelBtnSave")}})})),$("#addDegreeLevelModal").on("hidden.bs.modal",(function(){resetModalForm("#addDegreeLevelForm","#degreeLevelValidationErrorsBox")})),$(document).on("click",".addFunctionalAreaModal",(function(){$("#addFunctionalModal").appendTo("body").modal("show")})),$(document).on("submit","#addFunctionalForm",(function(e){e.preventDefault(),processingBtn("#addFunctionalForm","#functionalBtnSave","loading"),$.ajax({url:functionalAreaSaveUrl,type:"POST",data:$(this).serialize(),success:function(e){if(e.success){displaySuccessMessage(e.message),$("#addFunctionalModal").modal("hide");var a={id:e.data.id,text:e.data.name},o=new Option(a.text,a.id,!1,!0);$("#functionalAreaId").append(o).trigger("change")}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addFunctionalForm","#functionalBtnSave")}})})),$("#addFunctionalModal").on("hidden.bs.modal",(function(){resetModalForm("#addFunctionalForm","#functionalValidationErrorsBox")}));