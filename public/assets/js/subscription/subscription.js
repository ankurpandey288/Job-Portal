(()=>{"use strict";$(document).ready((function(){$(document).on("click",".subscribe",(function(){var s=this,e={plan_id:$(this).data("id")};$(this).html('<div class="spinner-border spinner-border-sm" role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$("subscribe").attr("disabled",!0),$.post("/employer/purchase-subscription",e).done((function(s){var e=s.data.sessionId;stripe.redirectToCheckout({sessionId:e}).then((function(s){$(this).html(subscribeText).removeClass("disabled"),$(".subscribe").attr("disabled",!1),displayErrorMessage(s.responseJSON.message)}))})).catch((function(e){$(s).html("Purchase").removeClass("disabled"),$(".subscribe").attr("disabled",!1),displayErrorMessage(e.responseJSON.message)}))})),$(document).on("click",".subscribe-trial",(function(){var s=this;$(this).html('<div class="spinner-border spinner-border-sm" role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$("subscribe").attr("disabled",!0),$.post(purchaseTriaalSubscriptionUrl).done((function(s){s.data&&(displaySuccessMessage(s.message),location.reload()),displayErrorMessage(error.responseJSON.message)})).catch((function(e){$(s).html("Purchase").removeClass("disabled"),$(".subscribe-trial").attr("disabled",!1),displayErrorMessage(e.responseJSON.message)}))}))})),$(".cancel-subscription").click((function(){$("#cancelSubscriptionModal").appendTo("body").modal("show")})),$(document).on("submit","#cancelSubscriptionForm",(function(s){if($("#btnCancelSave").html("Save").attr("disabled",!0),s.preventDefault(),0==$("#reason").val().trim().length)return displayErrorMessage("The Cancel Reason is required."),setTimeout((function(){$("#btnCancelSave").html("Save").attr("disabled",!1)}),1e3),!1;$.ajax({url:cancelSubscriptionUrl,type:"POST",data:$(this).serialize(),success:function(s){s.success&&(displaySuccessMessage(s.message),$("#cancelSubscriptionModal").modal("hide"),setTimeout((function(){location.reload()}),2e3))},error:function(s){displayErrorMessage(s.responseJSON.message)},complete:function(){$("#btnCancelSave").html("Save").attr("disabled",!1)}})})),$(document).on("click",".pay-with-paypal",(function(){$(this).html('<div class="spinner-border spinner-border-sm" role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),setTimeout((function(){$(this).html("Pay with Paypal")}))}))})();